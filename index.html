<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1,minimum-scale=1,maximum-scale=1">
<title>ojito.cam</title>
<link rel="stylesheet" href="cps/stylesheet.css" type="text/css">
<style>
* { 
	margin: 0; 
	padding: 0; 
	list-style: none;
	-webkit-text-size-adjust: 100%;
}
body {
	color: #c0c0c0;
	background: #808080;
	font: 16px/20px 'Courier Prime Sans', Courier, monospace;
	text-align: center;
	padding: 20px;
}
a { 
	text-decoration: none;
	color: inherit;
}
a:hover,
a:focus {
	color: #fff; 
}
li {
	line-height: 0;
}
li > * {
	line-height: 20px;
	text-align: left;
}
li p {
	font-family: Georgia, serif;
	margin: 0 auto;
	max-width: 360px;
	background: #606060;
	padding: 20px;
	border-radius: 4px;
}
li p a {
	text-decoration: underline;
}
div {
	display: inline-block;
	padding: 60px 0 12px;
	text-shadow: 0 -1px 0 #606060;
}
div > * {
	display: block;
	padding: 0 4px;
}
div > img {
	padding: 0;
	box-sizing: border-box;
	max-width: 100%;
	max-height: 85vh;
	border: 4px solid #fff;
	box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}
div a {
	padding-top: 8px;
}
div .perma {
	float: left;
}
div .perma:hover:after,
div .perma:focus:after {
	content: '#';
	margin-left: 5px;
}
div .db {
	float: right;
}
div .db:hover:before,
div .db:focus:before {
	content: '?';
	margin-right: 5px;
}
div i,
div p {
	font-style: normal;
	clear: both;
}
body>p {
	padding: 60px 0 120px;
}
#more {
	padding: 0 15px 25px;
	font: bold 48px 'Times New Roman', serif;
	text-shadow: 0 1px 4px rgba(0,0,0,0.1);
	border-radius: 100%;
	color: #fff;
}
#more:hover,
#more:focus {
	background: #606060;
}
</style>
</head>

<body>
<ul id="photos"></ul>
<p><a id="more" href="static.html">&hellip;</a></p>
<script>
document.getElementById('more').setAttribute('href','https://www.flickr.com/photos/ojitocam/');
function jsonFlickrFeed(feed) {
	for (const item of feed.items) {

		const $div = document.createElement('div');
		const $img = document.createElement('img');
		$img.setAttribute('src',item.media.m.slice(0,-5)+'b.jpg');
		$img.setAttribute('alt','');
		$div.append($img);

		const $time = document.createElement('time');
		const timestamp = item.date_taken;
		$time.setAttribute('datetime',timestamp);
		$time.textContent = timestamp.slice(0,10).replaceAll('-','.');

		const _perma = document.createElement('a')
		_perma.className = 'perma';
		_perma.setAttribute('href',item.link);
		_perma.append($time);
		$div.append(_perma);

		let brand = item.tags.split(' ')[0], 
			model = item.tags.split(' ')[1], 
			url = 'https://www.dpreview.com/products/'+brand+'/compacts/'+brand+'_'+model;
		switch(model) {
			case 'dmcfz35': model = 'DMC-FZ35'; break;
			case 'dmclx2': 	model = 'DMC-LX2'; 	break;
			case 'dmcsz1': 	model = 'DMC-SZ1'; 	break;
			case 'griiix': 	model = 'GR IIIx'; 	break;
			case 'l4v': 	model = 'L4V';		break;
			case 's95': 	model = 'S95'; 		break;
		}
		if (model) {
			const _db = document.createElement('a');
			_db.className = 'db';
			_db.setAttribute('href',url);
			_db.textContent = model;
			$div.append(' ',_db);
		}

		let t = item.title.trim();
		if (t) {
			$i = document.createElement('i');
			if (t[0] == '@') {
				$a = document.createElement('a');
				$a.setAttribute('href','https://www.instagram.com/'+t.slice(1)+'/');
				$a.textContent = t;
				$i.append($a);
			} else {
				$i.textContent = t;
			}
			$div.append(' ',$i);
		}

		let $li = document.createElement('li');
		$li.append($div);
		document.getElementById('photos').append($li);

		const p = item.description.split('<p>');
		if (p.length > 3 && p[3].trim() != '</p>') {
			$li = document.createElement('li');
			$li.innerHTML = '<p>'+p[3];
			document.getElementById('photos').append($li);
		}

	}
}
</script>
<script src="https://www.flickr.com/services/feeds/photos_public.gne?id=185897100@N04&format=json"></script>
<script src="smartquotes.js"></script>
<script>smartquotes(); const rendered = document.getElementById('photos').innerHTML;</script>
</body>

</html>